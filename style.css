/* --- GENEL AYARLAR --- */
body {
    margin: 0; padding: 0;
    background: linear-gradient(135deg, #dff9fb 0%, #c7ecee 100%);
    height: 100vh; width: 100vw;
    display: flex; justify-content: center; align-items: center;
    overflow: hidden; font-family: 'Fredoka', sans-serif;
    user-select: none; -webkit-user-select: none;
    transition: background 0.3s;
}
body.dark-mode { background: linear-gradient(135deg, #2d3436 0%, #000000 100%); }

#game-container {
    position: relative; width: 100%; height: 100%; max-width: 56.25vh;
    background-color: #81ecec; box-shadow: 0 0 40px rgba(0, 168, 255, 0.2);
    overflow: hidden; transition: filter 0.3s;
}
body.dark-mode #game-container { box-shadow: 0 0 40px rgba(0, 0, 0, 0.5); }
body.dark-mode canvas { filter: brightness(0.75); }

canvas { display: block; width: 100%; height: 100%; }

/* --- UI PANEL --- */
.ui-panel {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(255, 255, 255, 0.6);
    backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    z-index: 100; transition: background 0.3s;
}
body.dark-mode .ui-panel { background: rgba(0, 0, 0, 0.7); color: white; }

/* --- HUD (KÜÇÜLTÜLDÜ) --- */
#hudLayer {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    pointer-events: none; z-index: 50;
    padding: 15px; /* Kenar boşluğu azaldı */
    box-sizing: border-box;
    display: flex; justify-content: space-between; align-items: flex-start;
}

/* SOL ÜST: Profil (KÜÇÜLTÜLDÜ) */
#userProfile {
    display: flex; align-items: center;
    background: rgba(255, 255, 255, 0.9);
    padding: 4px 12px 4px 4px;
    border-radius: 25px;
    border: 2px solid #00a8ff;
    box-shadow: 0 3px 8px rgba(0,0,0,0.1);
    gap: 8px;
}
.profile-pic {
    width: 28px; height: 28px; /* Küçüldü (35 -> 28) */
    border-radius: 50%; object-fit: contain;
    background: #dff9fb; border: 1px solid #00a8ff;
}
.username {
    font-size: 3.5vmin; /* Küçüldü */
    color: #0097e6; font-weight: 700;
}

/* SAĞ ÜST GRUP */
.top-right-group { display: flex; align-items: center; gap: 8px; pointer-events: auto; }

/* SKOR (KÜÇÜLTÜLDÜ) */
#scoreBoard {
    background: rgba(255, 255, 255, 0.9);
    padding: 4px 12px;
    border-radius: 25px;
    display: flex; align-items: center;
    gap: 6px;
    box-shadow: 0 3px 8px rgba(0,0,0,0.1);
    border: 2px solid #00a8ff;
    height: 32px; /* Küçüldü (40 -> 32) */
}
.score-icon { width: 22px; height: 22px; object-fit: contain; }
.score-val { font-size: 5vmin; color: #0097e6; font-weight: 700; }

/* MENÜ BUTONU (KÜÇÜLTÜLDÜ) */
#menuBtn {
    width: 40px; height: 40px; /* Küçüldü (50 -> 40) */
    background: white; border: 2px solid #00a8ff; border-radius: 12px;
    cursor: pointer; display: flex; flex-direction: column;
    justify-content: center; align-items: center; gap: 4px;
    box-shadow: 0 3px 8px rgba(0,0,0,0.1);
}
#menuBtn .bar { width: 20px; height: 3px; background-color: #00a8ff; border-radius: 2px; }

/* KARANLIK MOD (HUD) */
body.dark-mode #userProfile, body.dark-mode #scoreBoard, body.dark-mode #menuBtn {
    background: rgba(45, 52, 54, 0.9); border-color: #74b9ff;
}
body.dark-mode .username, body.dark-mode .score-val { color: #74b9ff; }
body.dark-mode #menuBtn .bar { background-color: #74b9ff; }

/* --- AYARLAR KUTUSU --- */
.settings-box {
    background: rgba(255, 255, 255, 0.8); padding: 20px;
    border-radius: 20px; width: 70%; margin: 20px 0;
}
body.dark-mode .settings-box { background: rgba(0, 0, 0, 0.5); }

.setting-item {
    display: flex; justify-content: space-between; align-items: center;
    margin-bottom: 15px; font-size: 5vmin; font-weight: 700; color: #0097e6;
}
body.dark-mode .setting-item { color: #74b9ff; }
.setting-item:last-child { margin-bottom: 0; }

.switch { position: relative; display: inline-block; width: 50px; height: 28px; }
.switch input { opacity: 0; width: 0; height: 0; }
.slider {
    position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0;
    background-color: #ccc; transition: .4s;
}
.slider:before {
    position: absolute; content: ""; height: 20px; width: 20px; left: 4px; bottom: 4px;
    background-color: white; transition: .4s;
}
input:checked + .slider { background-color: #00a8ff; }
input:checked + .slider:before { transform: translateX(22px); }
.slider.round { border-radius: 34px; }
.slider.round:before { border-radius: 50%; }

/* --- LOGO VE BUTONLAR --- */
.logo-area h1 {
    font-size: 13vmin; line-height: 0.9; text-align: center; color: #00a8ff;
    text-shadow: 4px 4px 0px #ffffff, 6px 6px 0px #0984e3;
    margin-bottom: 30px; animation: bounce 2s infinite ease-in-out;
}
.pie-text { color: #ff9f43; text-shadow: 4px 4px 0px #ffffff, 6px 6px 0px #d35400; }
@keyframes bounce { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }

.game-btn {
    font-family: 'Fredoka', sans-serif; border: none; border-radius: 50px;
    padding: 18px 40px; font-size: 6vmin; font-weight: 700; color: white;
    cursor: pointer; transition: all 0.1s; text-transform: uppercase;
    box-shadow: 0 8px 15px rgba(0, 168, 255, 0.3); margin-top: 15px; width: 75%;
}
.game-btn:active { top: 4px; box-shadow: 0 4px 5px rgba(0, 168, 255, 0.3); }

.start-btn, .resume-btn { background: linear-gradient(to bottom, #00a8ff, #0097e6); border-bottom: 5px solid #007bb8; }
.retry-btn { background: linear-gradient(to bottom, #00cec9, #00b894); border-bottom: 5px solid #008f72; }
.home-btn, .home-btn-small { background: linear-gradient(to bottom, #74b9ff, #0984e3); border-bottom: 5px solid #06528d; }
.settings-btn { background: linear-gradient(to bottom, #b2bec3, #636e72); border-bottom: 5px solid #2d3436; margin-top: 10px; font-size: 5vmin; padding: 12px 30px; width: 60%; }

.home-btn-small { margin-top: 10px; font-size: 4vmin; background: transparent; border: 2px solid #0984e3; color: #0984e3; box-shadow: none; }
body.dark-mode .home-btn-small { border-color: #74b9ff; color: #74b9ff; }

.score-card { background: white; padding: 20px; border-radius: 25px; width: 60%; text-align: center; margin-bottom: 20px; color: #333; }
.menu-title, .game-over-title { font-size: 10vmin; color: #0097e6; margin-bottom: 20px; text-align: center; width: 100%; }
body.dark-mode .score-card { background: #dfe6e9; }
body.dark-mode .menu-title, body.dark-mode .game-over-title { color: #74b9ff; }